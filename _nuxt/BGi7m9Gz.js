import{_ as h}from"./CulOmIAS.js";import{u as y}from"./CuyOQ5nA.js";import{q as g}from"./CLZ4hufO.js";import{l as v,G as b,H as x,I as w,e as s,b as p,c as _,E as k,C as d,F as A,g as C,w as I,n as S,t as m,p as Y,i as N}from"./CBg2Mn67.js";import"./6JQkYWga.js";const q=o=>(Y("data-v-084833ff"),o=o(),N(),o),B={class:"not-prose font-mono"},D=q(()=>s("div",{class:"column text-gray-400 text-sm"},[s("div",null,"date"),s("div",null,"title")],-1)),F={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(o){let r,n;const i=o,{data:c}=([r,n]=b(()=>y("blog-list",()=>{const e=g("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return i.limit&&e.limit(i.limit),e.find()})),r=await r,n(),r),u=x(()=>{if(!c.value)return[];const e=[];let l=null;for(const a of c.value){const t=new Date(a.publishedAt).getFullYear(),f=t!==l;a.displayYear=f,a.year=t,e.push(a),l=t}return e});return(e,l)=>{const a=h;return w(e.$slots,"default",{posts:d(u)},()=>[s("section",B,[D,s("ul",null,[(p(!0),_(A,null,k(d(u),t=>(p(),_("li",{key:t._path},[C(a,{to:t._path,class:"column hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary"},{default:I(()=>[s("div",{class:S({invisible:!t.displayYear})},m(t.year),3),s("div",null,m(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},G=v(F,[["__scopeId","data-v-084833ff"]]);export{G as default};
