import{_ as h}from"./IvC3wYGj.js";import{u as y}from"./BaJpiPPH.js";import{q as g}from"./NaIrCF1K.js";import{l as v,U as b,E as x,R as w,e as s,b as p,c as _,S,g as k,w as A,n as C,t as d,C as m,F as Y,p as I,i as N}from"./CJLVywRw.js";import"./BULy3ZqN.js";const q=o=>(I("data-v-084833ff"),o=o(),N(),o),B={class:"not-prose font-mono"},D=q(()=>s("div",{class:"column text-gray-400 text-sm"},[s("div",null,"date"),s("div",null,"title")],-1)),F={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(o){let r,n;const i=o,{data:c}=([r,n]=b(()=>y("blog-list",()=>{const e=g("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return i.limit&&e.limit(i.limit),e.find()})),r=await r,n(),r),u=x(()=>{if(!c.value)return[];const e=[];let l=null;for(const a of c.value){const t=new Date(a.publishedAt).getFullYear(),f=t!==l;a.displayYear=f,a.year=t,e.push(a),l=t}return e});return(e,l)=>{const a=h;return w(e.$slots,"default",{posts:m(u)},()=>[s("section",B,[D,s("ul",null,[(p(!0),_(Y,null,S(m(u),t=>(p(),_("li",{key:t._path},[k(a,{to:t._path,class:"column hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary"},{default:A(()=>[s("div",{class:C({invisible:!t.displayYear})},d(t.year),3),s("div",null,d(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},R=v(F,[["__scopeId","data-v-084833ff"]]);export{R as default};
